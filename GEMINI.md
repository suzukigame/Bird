# プロジェクト概要: Bird Photo Gallery

このプロジェクトは、ユーザーが撮影した野鳥写真を日本の地域別に整理し、ブラウザ上で視覚的に閲覧できるReactベースのウェブサイトです。ユーザーは写真をギャラリーで閲覧したり、お気に入りの写真を「マイ図鑑」にコレクションしたりできます。

## 1. プロジェクトの目的とコンセプト

*   **目的**: 野鳥写真愛好家が撮影した写真を地域別に整理し、閲覧・共有できるウェブサイトの提供。
*   **コンセプト**: 「日本の野鳥、地域で巡る写真の旅」。シンプルで美しいインターフェースを通じて、写真の魅力を最大限に引き出すことを目指します。

## 2. 主要機能

*   **都道府県別写真表示**: 各都道府県ごとに写真を分類・表示。
*   **写真ギャラリー**: グリッド形式で写真を表示。クリックで拡大表示と詳細情報（撮影日、鳥の種類、撮影地、メモ）を表示。
*   **マイ図鑑**: お気に入りの写真をコレクションとして保存・管理。
*   **多言語対応**: 日本語、英語、中国語での表示切り替えが可能。

## 3. 技術スタック

*   **フロントエンド**: React (TypeScript), HTML5, CSS3
*   **UI/CSS**: カスタムCSS (CSS変数によるテーマ管理)
*   **ルーティング**: React Router
*   **状態管理**: React Hooks (useState, useMemo)
*   **国際化**: `react-i18next`
*   **ギャラリーレイアウト**: `react-masonry-css`
*   **データ管理**: 静的JSONファイル (`src/data/`)

## 4. アプリケーションの主要なディレクトリとファイル

*   `src/`: Reactアプリケーションのソースコード
    *   `App.tsx`: メインアプリケーションコンポーネント、ルーティング、言語切り替えロジック
    *   `index.tsx`: アプリケーションのエントリーポイント
    *   `App.css`: アプリケーション全体のスタイル、CSS変数定義
    *   `index.css`: グローバルスタイル、フォント読み込み
    *   `i18n.ts`: `react-i18next`の国際化設定
    *   `components/`: 再利用可能なUIコンポーネント
        *   `PhotoGallery.tsx`: 写真ギャラリー表示（Masonryレイアウト）
        *   `PrefectureSelector.tsx`: 都道府県選択コンポーネント
        *   `YearSelector.tsx`: 年選択コンポーネント
        *   `BirdSpeciesSelector.tsx`: 鳥の種類選択コンポーネント
        *   `FamilySelector.tsx`: 科選択コンポーネント
    *   `data/`: 静的データファイル
        *   `bird_database.ts`: 鳥の種に関するデータ（和名、英名、中国名など）
        *   `character_data.ts`: キャラクターに関するデータ
        *   `photos.ts`: 写真に関するデータ
        *   `prefectures.ts`: 都道府県に関するデータ
    *   `hooks/`: カスタムReactフック
        *   `useCollection.ts`: マイ図鑑のコレクション管理ロジック
    *   `pages/`: ページコンポーネント
        *   `CollectionPage.tsx`: マイ図鑑ページ
    *   `types/`: TypeScriptの型定義
        *   `photo.ts`: `IPhoto`インターフェース（写真データ構造）
        *   `collection.ts`: `ICollectionItem`インターフェース（コレクションアイテムデータ構造）
    *   `declarations.d.ts`: 外部ライブラリの型定義（`react-masonry-css`用）
*   `public/`: 静的アセット
    *   `locales/`: 翻訳ファイル (`en/`, `ja/`, `zh/`)
    *   `images/`: 写真画像ファイル
*   `package.json`: プロジェクトの依存関係とスクリプト定義
*   `tsconfig.json`: TypeScriptコンパイラ設定

## 5. 開発・ビルド・デプロイコマンド

*   **開発サーバー起動**: `npm start`
*   **本番ビルド**: `npm run build` (ビルド成果物は`build/`ディレクトリに生成されます)
*   **GitHub Pagesへのデプロイ**: `npm run deploy`
    *   `predeploy`スクリプトが`npm run build`を実行し、`generate-sitemap.js`でサイトマップを生成します。
    *   `deploy`スクリプトが`gh-pages -d build`を実行し、`build/`ディレクトリの内容を`gh-pages`ブランチにプッシュします。

## 6. コーディング規約とスタイル

*   TypeScriptを使用し、厳格な型チェックを適用しています。
*   CSS変数 (`:root`で定義) を使用して、主要な色を管理しています。
*   `Noto Sans JP`フォントをサイト全体で使用しています。

## 7. 既知の問題と注意点

*   **画像容量**: 現在、画像はGitHubリポジトリに直接保存されています。将来的に画像数が増加した場合、GitHub Pagesの容量制限（1GB）に達する可能性があります。その際は、CloudinaryやAWS S3などの外部画像ホスティングサービスの利用を検討する必要があります。

## 8. Gemini CLIへの指示

*   この`GEMINI.md`ファイルに記載されている情報を常に参照し、プロジェクトの全体像を把握してください。
*   ファイル変更を提案する際は、既存のコードスタイルと命名規則を尊重してください。
*   大規模な変更やアーキテクチャに関わる変更を行う前に、必ずユーザーに確認を求めてください。
*   ユーザーの指示がない限り、`node_modules`ディレクトリや`.git`ディレクトリの内容は変更しないでください。
